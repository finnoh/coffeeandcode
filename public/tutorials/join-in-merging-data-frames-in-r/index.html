<!DOCTYPE html>
<html lang="en">

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">


<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Join in! Merging Data Frames in R - Share and connect.</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

  
  
  
  <link rel="stylesheet" href="/css/style.min.7805445a9ba7ecbe9a769a970ad306959f036ae85c3448b456ee5780e4ad27a7.css">
  

  

</head>

<body class='page page-services-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-articles">
      <a href="/services/">
        <span>Articles</span>
      </a>
    </li>
    
    <li class="menu-item-tutorials">
      <a href="/tutorials/">
        <span>Tutorials</span>
      </a>
    </li>
    
    <li class="menu-item-contact">
      <a href="/contact/contact/">
        <span>Contact</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    

<div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://coffee-and-code.netlify.app"><img height=140px alt="Coffee and Code" src="/images/logo/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://coffee-and-code.netlify.app"><img alt="Coffee and Code" src="/images/logo/logo.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-articles">
      <a href="/services/">
        
        <span>Articles</span>
      </a>
    </li>
    
    <li class="menu-item-tutorials">
      <a href="/tutorials/">
        
        <span>Tutorials</span>
      </a>
    </li>
    
    <li class="menu-item-contact">
      <a href="/contact/contact/">
        
        <span>Contact</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button" aria-label="Mobile Menu">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>

    
<div class="container pb-6 pt-6 pt-md-10 pb-md-10">
  <div class="row justify-content-start">
    <div class="col-12 col-md-8">
      <div class="service service-single">
        <h1 class="title">Join in! Merging Data Frames in R</h1>
        <div class="content">
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
  <link rel="stylesheet" href="\css\custom.css" type="text/css" />


<p><img style="width:100%;" id="image" src="/images/ny1.jpg"></p>
<p><span>Photo by <a href="https://unsplash.com/@csoref?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Colton Duke</a> on <a href="https://unsplash.com/s/photos/new-york?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
<pre><code>## -- Attaching packages ------------------------------------ tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.0     v purrr   0.3.3
## v tibble  2.1.3     v dplyr   1.0.2
## v tidyr   1.0.0     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.4.0</code></pre>
<pre><code>## -- Conflicts --------------------------------------- tidyverse_conflicts() --
## x dplyr::filter()     masks stats::filter()
## x dplyr::group_rows() masks kableExtra::group_rows()
## x dplyr::lag()        masks stats::lag()</code></pre>
<div id="problem" class="section level1">
<h1>Problem</h1>
<p>If you are a fan of the famous “How I Met your Mother” series, you know the main characters and some facts about their backgrounds and professions. You know that Ted is an architect and from the various jokes about Canada, you know that Robin is from well, Canada. But where are the actors of these characters from? To explore this question, we need to combine information from different datasources: data on the characters and data on the cast (see <a href="#tab:char">2</a>). Let us take a look at the ways in which we can bring the information together.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># generate some data</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3">d_characters &lt;-</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb5-5" title="5">    <span class="st">&quot;Name&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ted&quot;</span>, <span class="st">&quot;Marshall&quot;</span>, <span class="st">&quot;Lily&quot;</span>, <span class="st">&quot;Robin&quot;</span>, <span class="st">&quot;Barney&quot;</span>, <span class="st">&quot;Viktoria&quot;</span>),</a>
<a class="sourceLine" id="cb5-6" title="6">    <span class="st">&quot;Job&quot;</span> =<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb5-7" title="7">      <span class="st">&quot;Architect&quot;</span>,</a>
<a class="sourceLine" id="cb5-8" title="8">      <span class="st">&quot;Lawyer&quot;</span>,</a>
<a class="sourceLine" id="cb5-9" title="9">      <span class="st">&quot;Teacher&quot;</span>,</a>
<a class="sourceLine" id="cb5-10" title="10">      <span class="st">&quot;News-Anchor&quot;</span>,</a>
<a class="sourceLine" id="cb5-11" title="11">      <span class="st">&quot;PLEASE&quot;</span>,</a>
<a class="sourceLine" id="cb5-12" title="12">      <span class="st">&quot;Pastry chef&quot;</span></a>
<a class="sourceLine" id="cb5-13" title="13">    ),</a>
<a class="sourceLine" id="cb5-14" title="14">    <span class="st">&quot;Year_of_Birth&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1978</span>, <span class="dv">1978</span>, <span class="dv">1978</span>, <span class="dv">1980</span>, <span class="dv">1976</span>, <span class="dv">1980</span>), <span class="st">&quot;Origin&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Shaker Heights&quot;</span>,<span class="st">&quot;St. Cloud&quot;</span>,<span class="st">&quot;Brooklyn&quot;</span>, <span class="st">&quot;Vancouver&quot;</span>, <span class="st">&quot;Staten Island&quot;</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb5-15" title="15">  )</a>
<a class="sourceLine" id="cb5-16" title="16"></a>
<a class="sourceLine" id="cb5-17" title="17">d_cast &lt;-</a>
<a class="sourceLine" id="cb5-18" title="18"><span class="st">  </span><span class="kw">data.frame</span>(</a>
<a class="sourceLine" id="cb5-19" title="19">    <span class="st">&quot;Name&quot;</span> =<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb5-20" title="20">      <span class="st">&quot;Josh Radnor&quot;</span>,</a>
<a class="sourceLine" id="cb5-21" title="21">      <span class="st">&quot;Bob Saget&quot;</span>,</a>
<a class="sourceLine" id="cb5-22" title="22">      <span class="st">&quot;Jason Segel&quot;</span>,</a>
<a class="sourceLine" id="cb5-23" title="23">      <span class="st">&quot;Alyson Hannigan&quot;</span>,</a>
<a class="sourceLine" id="cb5-24" title="24">      <span class="st">&quot;Cobie Smulders&quot;</span>,</a>
<a class="sourceLine" id="cb5-25" title="25">      <span class="st">&quot;Neil Patrick Harris&quot;</span>,</a>
<a class="sourceLine" id="cb5-26" title="26">      <span class="st">&quot;Cristin Millioti&quot;</span></a>
<a class="sourceLine" id="cb5-27" title="27">    ),</a>
<a class="sourceLine" id="cb5-28" title="28">    <span class="st">&quot;Role&quot;</span> =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ted&quot;</span>, <span class="st">&quot;Ted&quot;</span>, <span class="st">&quot;Marshall&quot;</span>, <span class="st">&quot;Lily&quot;</span>, <span class="st">&quot;Robin&quot;</span>, <span class="st">&quot;Barney&quot;</span>, <span class="st">&quot;Tracy&quot;</span>),</a>
<a class="sourceLine" id="cb5-29" title="29">    <span class="st">&quot;Birthplace&quot;</span> =<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb5-30" title="30">      <span class="st">&quot;Ohio&quot;</span>,</a>
<a class="sourceLine" id="cb5-31" title="31">      <span class="st">&quot;Pennsylvania&quot;</span>,</a>
<a class="sourceLine" id="cb5-32" title="32">      <span class="st">&quot;California&quot;</span>,</a>
<a class="sourceLine" id="cb5-33" title="33">      <span class="st">&quot;Washington D.C.&quot;</span>,</a>
<a class="sourceLine" id="cb5-34" title="34">      <span class="st">&quot;British Columbia&quot;</span>,</a>
<a class="sourceLine" id="cb5-35" title="35">      <span class="st">&quot;New Mexico&quot;</span>,</a>
<a class="sourceLine" id="cb5-36" title="36">      <span class="st">&quot;New Jersey&quot;</span></a>
<a class="sourceLine" id="cb5-37" title="37">    )</a>
<a class="sourceLine" id="cb5-38" title="38">  )</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:cast">Table 1: </span>The main cast of HIMYM
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
</tr>
<tr>
<td style="text-align:center;">
Cristin Millioti
</td>
<td style="text-align:center;">
Tracy
</td>
<td style="text-align:center;">
New Jersey
</td>
</tr>
</tbody>
</table>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:char">Table 2: </span>The main characters of HIMYM
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
Lawyer
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
St. Cloud
</td>
</tr>
<tr>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Teacher
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Brooklyn
</td>
</tr>
<tr>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
News-Anchor
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
Vancouver
</td>
</tr>
<tr>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
PLEASE
</td>
<td style="text-align:center;">
1976
</td>
<td style="text-align:center;">
Staten Island
</td>
</tr>
<tr>
<td style="text-align:center;">
Viktoria
</td>
<td style="text-align:center;">
Pastry chef
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="solution" class="section level1">
<h1>Solution</h1>
<p>We make use of <code>dplyr</code> join functions to bring two datatables together. A join works by using a “key” column, that uniquely identifies observations in one of the datasets. This key serves as a “puzzle piece” to bring the tables together. The key is the column that shows up in both datasources, in our case it is the information regarding the respective role (called <code>d_cast$Role</code> and <code>d_characters$Name$</code>).</p>
<div id="mutating-joins" class="section level2">
<h2>Mutating Joins</h2>
<p>The first way how we can bring two tables together is by an inner join. Here, the resulting dataframe consists of only the observations, whose key value shows up in both tables. We take a first approach below with the <code>inner_join()</code> function.</p>
<div id="inner-join" class="section level3">
<h3>Inner Join</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># use inner join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb6-2" title="2">df &lt;-<span class="st"> </span><span class="kw">inner_join</span>(d_cast, d_characters)</a></code></pre></div>
<pre><code>## Joining, by = &quot;Name&quot;</code></pre>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:innerA">Table 3: </span>This empty dataframe is the result of the inner join - We got a problem …
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
</tr>
</thead>
<tbody>
<tr>
</tr>
</tbody>
</table>
<p>Oh oh, that does not look right - Why is the resulting dataframe (see <a href="#tab:innerA">3</a>) empty? Take a look at the output message above: the <code>inner_join</code> function used the <code>Name</code> column as the key, because it is the only column that has the same <em>name</em> in both dataframes. Here lies the mistake: While it is named the same, it does not contain the same information! <code>d_cast$Name</code> resembles the name of the actor and not the name of the fictional character (like <code>d_character$Name</code> does).</p>
<p>Luckily, we can make use of the <code>by=...</code> argument in the <code>inner_join()</code> function to specify which columns we want to line up with each other. Often times, it makes sense to rename some columns after merging to not confuse them with others. We can see the result of the improved join in <a href="#tab:innerB">4</a>: Nice! We got a matching of the five main characters, exactly what we have been looking for. Notice how there are two matches for the character Ted: One for his actor Josh Radnor and one for his narrator Bob Saget.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># use inner join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb8-2" title="2">df &lt;-<span class="st"> </span><span class="kw">inner_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a>
<a class="sourceLine" id="cb8-3" title="3"></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co"># rename the Birthplace column, so that we know it refers to the birthplace of the actor</span></a>
<a class="sourceLine" id="cb8-5" title="5">df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rename</span>(<span class="dt">Birthplace_actor =</span> Birthplace)</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:innerB">Table 4: </span>It looks much better now!
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace_actor
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
<td style="text-align:center;">
Lawyer
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
St. Cloud
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
<td style="text-align:center;">
Teacher
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Brooklyn
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
<td style="text-align:center;">
News-Anchor
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
Vancouver
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
<td style="text-align:center;">
PLEASE
</td>
<td style="text-align:center;">
1976
</td>
<td style="text-align:center;">
Staten Island
</td>
</tr>
</tbody>
</table>
</div>
<div id="left-join" class="section level3">
<h3>Left Join</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># use left join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb9-2" title="2">df &lt;-<span class="st"> </span><span class="kw">left_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:leftA">Table 5: </span>The result of the left join.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
<td style="text-align:center;">
Lawyer
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
St. Cloud
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
<td style="text-align:center;">
Teacher
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Brooklyn
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
<td style="text-align:center;">
News-Anchor
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
Vancouver
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
<td style="text-align:center;">
PLEASE
</td>
<td style="text-align:center;">
1976
</td>
<td style="text-align:center;">
Staten Island
</td>
</tr>
<tr>
<td style="text-align:center;">
Cristin Millioti
</td>
<td style="text-align:center;">
Tracy
</td>
<td style="text-align:center;">
New Jersey
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># use left join to merge the two dataframes - note the switched arguments - note that we use a suffix now!</span></a>
<a class="sourceLine" id="cb10-2" title="2">df &lt;-<span class="st"> </span><span class="kw">left_join</span>(d_characters, d_cast, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Name&quot;</span> =<span class="st"> &quot;Role&quot;</span>), <span class="dt">suffix =</span> <span class="kw">c</span>(<span class="st">&quot;.x&quot;</span>, <span class="st">&quot;_actor&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:leftB">Table 6: </span>The result of the left join with switched sides.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
<th style="text-align:center;">
Name_actor
</th>
<th style="text-align:center;">
Birthplace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ohio
</td>
</tr>
<tr>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
<td style="text-align:center;">
Bog Saget
</td>
<td style="text-align:center;">
Pennsylvania
</td>
</tr>
<tr>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
Lawyer
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
St. Cloud
</td>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
California
</td>
</tr>
<tr>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Teacher
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Brooklyn
</td>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Washington D.C.
</td>
</tr>
<tr>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
News-Anchor
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
Vancouver
</td>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
British Columbia
</td>
</tr>
<tr>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
PLEASE
</td>
<td style="text-align:center;">
1976
</td>
<td style="text-align:center;">
Staten Island
</td>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
New Mexico
</td>
</tr>
<tr>
<td style="text-align:center;">
Viktoria
</td>
<td style="text-align:center;">
Pastry chef
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="right-join" class="section level3">
<h3>Right Join</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># use right join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb11-2" title="2">df &lt;-<span class="st"> </span><span class="kw">right_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:rightA">Table 7: </span>The result of the right join.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
<td style="text-align:center;">
Lawyer
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
St. Cloud
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
<td style="text-align:center;">
Teacher
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Brooklyn
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
<td style="text-align:center;">
News-Anchor
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
Vancouver
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
<td style="text-align:center;">
PLEASE
</td>
<td style="text-align:center;">
1976
</td>
<td style="text-align:center;">
Staten Island
</td>
</tr>
<tr>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
Viktoria
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
Pastry chef
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="full-join" class="section level3">
<h3>Full Join</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># use full join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb12-2" title="2">df &lt;-<span class="st"> </span><span class="kw">full_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:full">Table 8: </span>The result of the full join.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
<th style="text-align:center;">
Job
</th>
<th style="text-align:center;">
Year_of_Birth
</th>
<th style="text-align:center;">
Origin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
<td style="text-align:center;">
Architect
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Shaker Heights
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
<td style="text-align:center;">
Lawyer
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
St. Cloud
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
<td style="text-align:center;">
Teacher
</td>
<td style="text-align:center;">
1978
</td>
<td style="text-align:center;">
Brooklyn
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
<td style="text-align:center;">
News-Anchor
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
Vancouver
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
<td style="text-align:center;">
PLEASE
</td>
<td style="text-align:center;">
1976
</td>
<td style="text-align:center;">
Staten Island
</td>
</tr>
<tr>
<td style="text-align:center;">
Cristin Millioti
</td>
<td style="text-align:center;">
Tracy
</td>
<td style="text-align:center;">
New Jersey
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
Viktoria
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
Pastry chef
</td>
<td style="text-align:center;">
1980
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="filtering-joins" class="section level2">
<h2>Filtering joins</h2>
<div id="anti-join" class="section level3">
<h3>Anti Join</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># use anti join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb13-2" title="2">df &lt;-<span class="st"> </span><span class="kw">anti_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:anti">Table 9: </span>The result of the anti join.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Cristin Millioti
</td>
<td style="text-align:center;">
Tracy
</td>
<td style="text-align:center;">
New Jersey
</td>
</tr>
</tbody>
</table>
</div>
<div id="semi-join" class="section level3">
<h3>Semi Join</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># use semi join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb14-2" title="2">df &lt;-<span class="st"> </span><span class="kw">semi_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:semi">Table 10: </span>The result of the semi join.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="nesting-join" class="section level2">
<h2>Nesting Join</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># use nest join to merge the two dataframes</span></a>
<a class="sourceLine" id="cb15-2" title="2">df &lt;-<span class="st"> </span><span class="kw">nest_join</span>(d_cast, d_characters, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;Role&quot;</span> =<span class="st"> &quot;Name&quot;</span>))</a></code></pre></div>
<table class=" lightable-material lightable-hover" style='font-family: "Source Sans Pro", helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:nest">Table 11: </span>The result of the nesting join.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Name
</th>
<th style="text-align:center;">
Role
</th>
<th style="text-align:center;">
Birthplace
</th>
<th style="text-align:center;">
d_characters
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Josh Radnor
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Ohio
</td>
<td style="text-align:center;">
list(Job = 1, Year_of_Birth = 1978, Origin = 2)
</td>
</tr>
<tr>
<td style="text-align:center;">
Bob Saget
</td>
<td style="text-align:center;">
Ted
</td>
<td style="text-align:center;">
Pennsylvania
</td>
<td style="text-align:center;">
list(Job = 1, Year_of_Birth = 1978, Origin = 2)
</td>
</tr>
<tr>
<td style="text-align:center;">
Jason Segel
</td>
<td style="text-align:center;">
Marshall
</td>
<td style="text-align:center;">
California
</td>
<td style="text-align:center;">
list(Job = 2, Year_of_Birth = 1978, Origin = 3)
</td>
</tr>
<tr>
<td style="text-align:center;">
Alyson Hannigan
</td>
<td style="text-align:center;">
Lily
</td>
<td style="text-align:center;">
Washington D.C.
</td>
<td style="text-align:center;">
list(Job = 6, Year_of_Birth = 1978, Origin = 1)
</td>
</tr>
<tr>
<td style="text-align:center;">
Cobie Smulders
</td>
<td style="text-align:center;">
Robin
</td>
<td style="text-align:center;">
British Columbia
</td>
<td style="text-align:center;">
list(Job = 3, Year_of_Birth = 1980, Origin = 5)
</td>
</tr>
<tr>
<td style="text-align:center;">
Neil Patrick Harris
</td>
<td style="text-align:center;">
Barney
</td>
<td style="text-align:center;">
New Mexico
</td>
<td style="text-align:center;">
list(Job = 5, Year_of_Birth = 1976, Origin = 4)
</td>
</tr>
<tr>
<td style="text-align:center;">
Cristin Millioti
</td>
<td style="text-align:center;">
Tracy
</td>
<td style="text-align:center;">
New Jersey
</td>
<td style="text-align:center;">
list(Job = integer(0), Year_of_Birth = numeric(0), Origin = integer(0))
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="further-stuff" class="section level1">
<h1>Further Stuff</h1>
</div>
</div>
           <div class="article-meta">
      <p class="terms">
  
  
  Categories:
  
  <a href='/categories/r'>R</a>
  
  
  
  
  Tags:
  
  <a href='/tags/tutorial'>tutorial</a>
  
  <a href='/tags/data-cleaning'>data cleaning</a>
  
  <a href='/tags/basic'>basic</a>
  
  <a href='/tags/tidyverse'>tidyverse</a>
  
  
  
</p>
      </div>
    </div>
</div>
</div>
</div>

  </div>

  <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="footer-inner">
          <h3 class="footer-title">Share and connect.</h3>
          <ul>
            
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>



<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          
            
<div class="social">
    
        <a href="https://github.com/finnoh" target="blank"><img src="/images/social/github.svg" title="Github" alt="Github" /></a>
    
        <a href="https://zerostatic.io" target="blank"><img src="/images/social/github.svg" title="Hugo Serif Theme" alt="Hugo Serif Theme" /></a>
    
</div>

          
          
            <div class="copyright">Blog by <a class="zerostatic" href="https://github.com/finnoh">Finn Hoener - 2020</a></div>
          
        </div>
      </div>
    </div>
  </div>
</div>

  

  




  <script type="text/javascript" src="/js/services.min.96db5a4d9a7ea2d1759fd6847940367b5207c4ef5686df932179e04aefccdf37.js"></script>
  


  
  <script type="text/javascript" src="/js/scripts.min.bf1e1f7ae8e03db5f012356e825843facdff51c0a559cb0d27fe2bbe1db405c2.js"></script>
  

  






  





</body>

</html>
